---
title: My journey with jPOS and elastic
date: 2018-05-04
author: andresantoniuk
lang: en
alt_lang: es
translation_id: my-journey-with-jpos-and-elastic
categories: ["technology"]
tags: ["linkedin-import", "fintech", "jpos", "elastic", "data", "technology"]
linkedin_url: https://www.linkedin.com/pulse/my-journey-jpos-elastic-juan-andr%C3%A9s-antoniuk-buchtik
---

---

> This article was originally published on [LinkedIn](https://www.linkedin.com/pulse/my-journey-jpos-elastic-juan-andr%C3%A9s-antoniuk-buchtik).

---

![Article header image]({{ '/assets/img/posts/my-journey-with-jpos-and-elastic/header_image.jpg' | relative_url }})

*“If you cannot measure it, it doesn't exist”* is a very disputed idea and personally I agree with [this article that affirms that this is no true](https://www.forbes.com/sites/lizryan/2014/02/10/if-you-cant-measure-it-you-cant-manage-it-is-bs), but I also consider that you can’t be blind on things that should be measured.

A few years ago, when I got involved with a [jPOS ](http://jpos.org/)based solution for financial transaction processing I was shocked to realize how both business and operational sides were almost blind on what was happening on real-time, only assisted by huge text files generated by [jPOS logger](https://github.com/jpos/jPOS/blob/master/doc/src/asciidoc/ch03/logger.adoc). So, as a new kid moving to the financial technology neighborhood I tried to find a solution using lessons learned on my life journey as an aspiring entrepreneur temporally turned on a corporate clerk. One of these lessons is to avoid reinventing the wheel maximizing use of available building blocks, and better if these blocks are open source.

After looking around I decided that [Graylog](https://www.graylog.org/) was a good way to start, so helped by [docker ](http://docs.graylog.org/en/2.4/pages/installation/docker.html)and some python scripting I managed to start sending transactional events to Graylog where dashboards and alerts gave us immediate operational improvements. Once I got confidence with the solution I started to expand it gathering events from other sources. Later I found that [Kibana ](https://www.elastic.co/products/kibana)was better to create impressive interactive dashboards and finally ended discarding Graylog and moving completely to the [Elastic stack](https://www.elastic.co/products) where using available building blocks (logstash, beats, whatcher, etc) infrastructure and transactional data can be searched, analyzed, alerted and visualized in real time by business, security and operational roles.

Despite I’ve been an advocate of open source since my college days, until now I’ve been a passively consumer of open source software and everything described on above paragraph was done privately and it is not available to share.

I feel that it is time to return something to community, so I invested nights and weekends to find a better standards based jPOS-elastic solution and I’m sharing here a summary of my results on this journey.

- Status data can be pulled from jPOS or pushed to elastic; by now I’m just pulling status data from jPOS at a defined time frequency.
- Transactional events should be pushed to elastic; still evaluating alternatives.
- Events can be sent directly from jPOS to elastic and it should be easy to use [Elastic Java Client](https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high.html) , but there’s a high value on using [logstash for data enrichment](https://www.elastic.co/guide/en/logstash/current/lookup-enrichment.html).

### Leverage already available JMX jPOS capabilities

[Metricbeat Jolokia Module](https://www.elastic.co/guide/en/beats/metricbeat/master/metricbeat-module-jolokia.html)

https://github.com/andresantoniuk/jpos-elastic-demo/blob/master/metricbeat/modules.d/jolokia.yml
https://github.com/andresantoniuk/jPOS-template/commit/79ac82997081df3a1539af4bcadbf7 fc 44c99f6b #diff-c197962302397baf3a4cc36463dce5eaR27 https://github.com/andresantoniuk/jPOS-template/commit/79ac82997081df3a1539af4bcadbf7 fc 44c99f6b #diff-bdfee8806ddb56da9c39c3b97751e55aR14 [Logstash JMX Input plugin](https://www.elastic.co/guide/en/logstash/current/plugins-inputs-jmx.html)

https://github.com/andresantoniuk/jpos-elastic-demo/blob/master/logstash/conf.d/jmx.conf 
https://github.com/andresantoniuk/jPOS-template/commit/79ac82997081df3a1539af4bcadbf7 fc 44c99f6b #diff-bdfee8806ddb56da9c39c3b97751e55aR9 

### Use [recently released](https://twitter.com/jposcommits/status/991790735044349952) jPOS-EE [QRest Module](https://github.com/jpos/jPOS-EE/blob/master/doc/src/asciidoc/module_qrest.adoc)

https: / /github.com/andresantoniuk/jpos-elastic-demo/blob/master/logstash/conf.d/qrest .conf Whit [this configuration](https://github.com/andresantoniuk/jPOS-template), based on the [jPOS Gateway Tutorial](http://jpos.org/doc/tutorials/jpos-gateway.pdf) interactive dashboards like the following can be easily created: